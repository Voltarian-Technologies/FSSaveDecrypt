<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="initial-scale=1.0, maximum-scale=1.0, width=device-width, user-scalable=no">
  <title>PIP-BOY 3000 - FSSaveDecrypt</title>
  <meta name="description" content="Vault-Tec Pip-Boy 3000 Save File Interface">

  <link rel="stylesheet" href="/css/bootstrap.min.css">
  <link rel="stylesheet" href="/css/style.css">
  <script src="/js/DeEn.js"></script>
  <script src="/js/json2.min.js"></script>
  <script src="/js/jquery-2.1.4.min.js"></script>

</head>

<body onload="fossdLoad();">
  <div class="pipboy-frame">
    <div class="pipboy-screen">
      <div class="pipboy-header">
        <div class="pipboy-status">
          <span class="status-indicator online"></span>
          <span class="status-text">VAULT-TEC SYSTEMS</span>
        </div>
        <div class="pipboy-time" id="current-time">00:00:00</div>
      </div>
      
      <div class="pipboy-nav">
        <div class="nav-section active" data-section="status">
          <span class="nav-icon">▣</span>
          <span class="nav-label">STATUS</span>
        </div>
        <div class="nav-section" data-section="decrypt">
          <span class="nav-icon">◈</span>
          <span class="nav-label">DECRYPT</span>
        </div>
        <div class="nav-section" data-section="encrypt">
          <span class="nav-icon">◉</span>
          <span class="nav-label">ENCRYPT</span>
        </div>
        <div class="nav-section" data-section="about">
          <span class="nav-icon">◉</span>
          <span class="nav-label">ABOUT</span>
        </div>
      </div>

      <div class="pipboy-content">
        <div class="content-section active" id="status-section">
          <div class="section-header">
            <h2>SYSTEM STATUS</h2>
            <div class="divider"></div>
          </div>
          <div class="status-grid">
            <div class="status-item">
              <span class="status-label">VAULT ID:</span>
              <span class="status-value">55</span>
            </div>
            <div class="status-item">
              <span class="status-label">SYSTEM:</span>
              <span class="status-value">ONLINE</span>
            </div>
            <div class="status-item">
              <span class="status-label">VERSION:</span>
              <span class="status-value">3.0.0</span>
            </div>
            <div class="status-item">
              <span class="status-label">MODE:</span>
              <span class="status-value">SAVE EDITOR</span>
            </div>
          </div>
          <div class="system-message">
            <p>READY FOR FILE OPERATIONS</p>
            <p class="warning">LARGE FILES CAN TAKE MORE TIME TO PROCESS</p>
          </div>
        </div>

        <div class="content-section" id="decrypt-section">
          <div class="section-header">
            <h2>DECRYPT SAVE FILE</h2>
            <div class="divider"></div>
          </div>
          <div class="file-operations">
            <div class="operation-box">
              <div class="operation-header">
                <span class="operation-icon">◈</span>
                <span class="operation-title">SELECT .SAV FILE</span>
              </div>
              <div class="file-input-wrapper">
                <input hidden type="file" id="sav_file2" name="sav_file2" accept=".sav" class="pipboy-input">
                <label for="sav_file2" class="file-input-label">
                  <span class="file-icon">◐</span>
                  <span class="file-text">CHOOSE FILE</span>
                </label>
              </div>
              <div class="operation-info">
                <p>Decrypts Fallout Shelter save files to JSON format</p>
                <p class="file-type">Supported: .sav files</p>
              </div>
            </div>
          </div>
        </div>

        <div class="content-section" id="encrypt-section">
          <div class="section-header">
            <h2>ENCRYPT SAVE FILE</h2>
            <div class="divider"></div>
          </div>
          <div class="file-operations">
            <div class="operation-box">
              <div class="operation-header">
                <span class="operation-icon">◉</span>
                <span class="operation-title">SELECT .JSON FILE</span>
              </div>
              <div class="file-input-wrapper">
                <input hidden type="file" id="json_file2" name="json_file2" accept=".json" class="pipboy-input">
                <label for="json_file2" class="file-input-label">
                  <span class="file-icon">◐</span>
                  <span class="file-text">CHOOSE FILE</span>
                </label>
              </div>
              <div class="operation-info">
                <p>Encrypts JSON files back to Fallout Shelter save format</p>
                <p class="file-type">Supported: .json files</p>
              </div>
            </div>
          </div>
        </div>

        <div class="content-section" id="about-section">
          <div class="section-header">
            <h2>ABOUT PIP-BOY</h2>
            <div class="divider"></div>
          </div>
          <div class="about-content">
            <div class="about-item">
              <span class="about-label">DEVICE:</span>
              <span class="about-value">PIP-BOY 3000</span>
            </div>
            <div class="about-item">
              <span class="about-label">MANUFACTURER:</span>
              <span class="about-value">VAULT-TEC</span>
            </div>
            <div class="about-item">
              <span class="about-label">MODULE:</span>
              <span class="about-value">FSSaveDecrypt v1.0</span>
            </div>
            <div class="about-item">
              <span class="about-label">PURPOSE:</span>
              <span class="about-value">SAVE FILE MANAGEMENT</span>
            </div>
            <div class="about-description">
              <p>This Pip-Boy module provides secure decryption and encryption services for Vault-Tec approved save files.</p>
              <p>All operations are logged and monitored for vault security compliance.</p>
            </div>
          </div>
        </div>
      </div>

      <div class="pipboy-footer">
        <div class="footer-left">
          <span class="footer-text">VAULT-TEC 2077</span>
        </div>
        <div class="footer-right">
          <span class="footer-text">SYSTEM ONLINE</span>
        </div>
      </div>
    </div>
  </div>

  <script>
    // Update time display
    function updateTime() {
      const now = new Date();
      const timeString = now.toTimeString().split(' ')[0];
      document.getElementById('current-time').textContent = timeString;
    }
    setInterval(updateTime, 1000);
    updateTime();

    // Navigation functionality
    document.querySelectorAll('.nav-section').forEach(section => {
      section.addEventListener('click', function() {
        // Remove active class from all sections and content
        document.querySelectorAll('.nav-section').forEach(s => s.classList.remove('active'));
        document.querySelectorAll('.content-section').forEach(c => c.classList.remove('active'));
        
        // Add active class to clicked section and corresponding content
        this.classList.add('active');
        const targetSection = this.getAttribute('data-section') + '-section';
        document.getElementById(targetSection).classList.add('active');
      });
    });

    // File input styling
    document.querySelectorAll('.pipboy-input').forEach(input => {
      input.addEventListener('change', function() {
        const label = this.nextElementSibling;
        const fileName = this.files[0]?.name || 'CHOOSE FILE';
        label.querySelector('.file-text').textContent = fileName;
      });
    });

    // Random scanning bar effect
    function createRandomScanBar() {
      const screen = document.querySelector('.pipboy-screen');
      const scanBar = document.createElement('div');
      scanBar.style.cssText = `
        position: absolute;
        left: 0;
        width: 100%;
        height: 3px;
        background: linear-gradient(90deg, 
          transparent 0%, 
          rgba(0, 255, 0, 0.6) 40%, 
          rgba(0, 255, 0, 1) 50%, 
          rgba(0, 255, 0, 0.6) 60%, 
          transparent 100%
        );
        pointer-events: none;
        z-index: 4;
        box-shadow: 0 0 8px rgba(0, 255, 0, 0.8);
        opacity: 0;
      `;
      
      screen.appendChild(scanBar);
      
      // Random position and animation
      const randomStart = Math.random() * 100;
      const randomDuration = 2 + Math.random() * 3; // 2-5 seconds
      const randomDelay = Math.random() * 4; // 0-4 seconds delay
      
      scanBar.style.animation = `scanBarMove ${randomDuration}s ease-in-out ${randomDelay}s`;
      
      // Create keyframes for this specific bar
      const styleSheet = document.createElement('style');
      styleSheet.textContent = `
        @keyframes scanBarMove {
          0% { 
            top: ${randomStart}%; 
            opacity: 0;
          }
          10% {
            opacity: 1;
          }
          90% {
            opacity: 1;
          }
          100% { 
            top: ${randomStart > 50 ? 0 : 100}%; 
            opacity: 0;
          }
        }
      `;
      document.head.appendChild(styleSheet);
      
      // Remove bar and stylesheet after animation
      setTimeout(() => {
        scanBar.remove();
        styleSheet.remove();
      }, (randomDuration + randomDelay) * 1000);
    }
    
    // Create random scan bars periodically
    setInterval(createRandomScanBar, 30000 + Math.random() * 30000);
    
    // Create initial scan bar after a short delay
    setTimeout(createRandomScanBar, 5000);
  </script>
</body>
</html>