<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="initial-scale=1.0, maximum-scale=1.0, width=device-width, user-scalable=no">
  <title>PIP-BOY 3000 - FSSaveDecrypt</title>
  <meta name="description" content="Vault-Tec Pip-Boy 3000 Save File Interface">

  <link rel="stylesheet" href="/css/bootstrap.min.css">
  <link rel="stylesheet" href="/css/pipboy-overlay.css">
  <script src="/js/DeEn.js"></script>
  <script src="/js/json2.min.js"></script>
  <script src="/js/jquery-2.1.4.min.js"></script>

</head>

<body onload="fossdLoad();">
  <div class="pipboy-frame">
    <div class="pipboy-screen">
      <div class="pipboy-header">
        <div class="pipboy-status">
          <span class="status-indicator online"></span>
          <span class="status-text">VAULT-TEC SYSTEMS</span>
        </div>
        <div class="pipboy-time" id="current-time">00:00:00</div>
      </div>
      
      <div class="pipboy-nav">
        <div class="nav-section active" data-section="status">
          <span class="nav-icon">‚ñ£</span>
          <span class="nav-label">STATUS</span>
        </div>
        <div class="nav-section" data-section="decrypt">
          <span class="nav-icon">‚óà</span>
          <span class="nav-label">DECRYPT</span>
        </div>
        <div class="nav-section" data-section="encrypt">
          <span class="nav-icon">‚óâ</span>
          <span class="nav-label">ENCRYPT</span>
        </div>
        <div class="nav-section" data-section="about">
          <span class="nav-icon">‚óâ</span>
          <span class="nav-label">ABOUT</span>
        </div>
      </div>

      <div class="pipboy-content">
        <div class="pipboy-overlay-container">
          <div class="pipboy-screen-content">
            <!-- Vault Boy Character -->
            <div class="vault-boy-container">
              <div class="vault-boy-image"></div>
            </div>

            <!-- System Stats Panel -->
            <div class="system-stats-panel">
              <div class="stat-item">
                <span class="stat-label">RAM</span>
                <div class="stat-bar">
                  <div class="stat-bar-fill" style="width: 65%;"></div>
                </div>
                <span class="stat-value">65%</span>
              </div>
              <div class="stat-item">
                <span class="stat-label">CPU</span>
                <div class="stat-bar">
                  <div class="stat-bar-fill" style="width: 42%;"></div>
                </div>
                <span class="stat-value">42%</span>
              </div>
              <div class="stat-item">
                <span class="stat-label">DISK</span>
                <div class="stat-bar">
                  <div class="stat-bar-fill" style="width: 78%;"></div>
                </div>
                <span class="stat-value">78%</span>
              </div>
              <div class="stat-item">
                <span class="stat-label">BAT</span>
                <div class="stat-bar">
                  <div class="stat-bar-fill" style="width: 92%;"></div>
                </div>
                <span class="stat-value">92%</span>
              </div>
            </div>

            <!-- Network Activity -->
            <div class="network-activity">
              <div class="network-item">
                <span class="network-icon upload-icon"></span>
                <span class="network-label">UPLOAD</span>
                <span class="network-value">2.4 MB/s</span>
              </div>
              <div class="network-item">
                <span class="network-icon download-icon"></span>
                <span class="network-label">DOWNLOAD</span>
                <span class="network-value">8.7 MB/s</span>
              </div>
            </div>

            <!-- Clock Display -->
            <div class="clock-display">
              <div class="time-display" id="overlay-time">00:00:00</div>
              <div class="date-display" id="overlay-date">01.16.2277</div>
            </div>

            <!-- System Messages -->
            <div class="system-messages" id="system-messages">
              <div class="message-item">SYSTEM INITIALIZED</div>
              <div class="message-item warning">VAULT DOOR SECURED</div>
              <div class="message-item">ALL SYSTEMS NOMINAL</div>
            </div>
          </div>

                              
          <!-- CRT Effect Overlay -->
          <div class="crt-effect-overlay"></div>
          
          <!-- Moving Scanline -->
          <div class="scanline"></div>
        </div>

        <div class="content-section active" id="status-section">
          <div class="section-header">
            <h2>SYSTEM STATUS</h2>
            <div class="divider"></div>
          </div>
          <div class="status-grid">
            <div class="status-item">
              <span class="status-label">VAULT ID:</span>
              <span class="status-value">111</span>
            </div>
            <div class="status-item">
              <span class="status-label">SYSTEM:</span>
              <span class="status-value">ONLINE</span>
            </div>
            <div class="status-item">
              <span class="status-label">VERSION:</span>
              <span class="status-value">3.0.0</span>
            </div>
            <div class="status-item">
              <span class="status-label">MODE:</span>
              <span class="status-value">SAVE EDITOR</span>
            </div>
          </div>
          <div class="system-message">
            <p>READY FOR FILE OPERATIONS</p>
            <p class="warning">LARGE FILES CAN TAKE MORE TIME TO PROCESS</p>
          </div>
        </div>

        <div class="content-section" id="decrypt-section">
          <div class="section-header">
            <h2>DECRYPT SAVE FILE</h2>
            <div class="divider"></div>
          </div>
          <div class="file-operations">
            <div class="operation-box">
              <div class="operation-header">
                <span class="operation-icon">‚óà</span>
                <span class="operation-title">SELECT .SAV FILE</span>
              </div>
              <div class="file-input-wrapper">
                <input type="file" id="sav_file2" name="sav_file2" accept=".sav" class="pipboy-input">
                <label for="sav_file2" class="file-input-label">
                  <span class="file-icon">üìÅ</span>
                  <span class="file-text">CHOOSE FILE</span>
                </label>
              </div>
              <div class="operation-info">
                <p>Decrypts Fallout Shelter save files to JSON format</p>
                <p class="file-type">Supported: .sav files</p>
              </div>
            </div>
          </div>
        </div>

        <div class="content-section" id="encrypt-section">
          <div class="section-header">
            <h2>ENCRYPT SAVE FILE</h2>
            <div class="divider"></div>
          </div>
          <div class="file-operations">
            <div class="operation-box">
              <div class="operation-header">
                <span class="operation-icon">‚óâ</span>
                <span class="operation-title">SELECT .JSON FILE</span>
              </div>
              <div class="file-input-wrapper">
                <input type="file" id="json_file2" name="json_file2" accept=".json" class="pipboy-input">
                <label for="json_file2" class="file-input-label">
                  <span class="file-icon">üìÅ</span>
                  <span class="file-text">CHOOSE FILE</span>
                </label>
              </div>
              <div class="operation-info">
                <p>Encrypts JSON files back to Fallout Shelter save format</p>
                <p class="file-type">Supported: .json files</p>
              </div>
            </div>
          </div>
        </div>

        <div class="content-section" id="about-section">
          <div class="section-header">
            <h2>ABOUT PIP-BOY</h2>
            <div class="divider"></div>
          </div>
          <div class="about-content">
            <div class="about-item">
              <span class="about-label">DEVICE:</span>
              <span class="about-value">PIP-BOY 3000</span>
            </div>
            <div class="about-item">
              <span class="about-label">MANUFACTURER:</span>
              <span class="about-value">VAULT-TEC</span>
            </div>
            <div class="about-item">
              <span class="about-label">MODULE:</span>
              <span class="about-value">FSSaveDecrypt v1.0</span>
            </div>
            <div class="about-item">
              <span class="about-label">PURPOSE:</span>
              <span class="about-value">SAVE FILE MANAGEMENT</span>
            </div>
            <div class="about-description">
              <p>This Pip-Boy module provides secure decryption and encryption services for Vault-Tec approved save files.</p>
              <p>All operations are logged and monitored for vault security compliance.</p>
            </div>
          </div>
        </div>
      </div>

      <div class="pipboy-footer">
        <div class="footer-left">
          <span class="footer-text">VAULT-TEC 2077</span>
        </div>
        <div class="footer-right">
          <span class="footer-text">SYSTEM READY</span>
        </div>
      </div>
    </div>
  </div>

  <script>
    // Update time display
    function updateTime() {
      const now = new Date();
      const timeString = now.toTimeString().split(' ')[0];
      document.getElementById('overlay-time').textContent = timeString;
    }
    setInterval(updateTime, 1000);
    updateTime();

    // Update overlay date
    function updateDate() {
      const now = new Date();
      const month = String(now.getMonth() + 1).padStart(2, '0');
      const day = String(now.getDate()).padStart(2, '0');
      const year = now.getFullYear();
      document.getElementById('overlay-date').textContent = `${month}.${day}.${year}`;
    }
    updateDate();

    // Navigation functionality
    document.querySelectorAll('.nav-section').forEach(section => {
      section.addEventListener('click', function() {
        // Remove active class from all sections and content
        document.querySelectorAll('.nav-section').forEach(s => s.classList.remove('active'));
        document.querySelectorAll('.content-section').forEach(c => c.classList.remove('active'));
        
        // Add active class to clicked section and corresponding content
        this.classList.add('active');
        const targetSection = this.getAttribute('data-section') + '-section';
        document.getElementById(targetSection).classList.add('active');
      });
    });

    // File input styling
    document.querySelectorAll('.pipboy-input').forEach(input => {
      input.addEventListener('change', function() {
        const label = this.nextElementSibling;
        const fileName = this.files[0]?.name || 'CHOOSE FILE';
        label.querySelector('.file-text').textContent = fileName;
      });
    });

    // Dynamic system messages
    const systemMessages = [
      'SYSTEM INITIALIZED',
      'VAULT DOOR SECURED',
      'ALL SYSTEMS NOMINAL',
      'RAD LEVELS STABLE',
      'POWER GRID ONLINE',
      'WATER PURIFICATION ACTIVE',
      'AIR FILTRATION SYSTEM OK',
      'MEDICAL BAY READY',
      'COMMUNICATIONS ONLINE',
      'SECURITY SYSTEM ARMED'
    ];

    const warningMessages = [
      'LOW RADATION DETECTED',
      'EXTERNAL THREAT SCANNED',
      'RESOURCE USAGE HIGH',
      'MAINTENANCE REQUIRED',
      'QUARANTINE PROTOCOL ACTIVE'
    ];

    function addSystemMessage(isWarning = false) {
      const messagesContainer = document.getElementById('system-messages');
      const messageArray = isWarning ? warningMessages : systemMessages;
      const randomMessage = messageArray[Math.floor(Math.random() * messageArray.length)];
      
      const messageElement = document.createElement('div');
      messageElement.className = isWarning ? 'message-item warning' : 'message-item';
      messageElement.textContent = randomMessage;
      
      messagesContainer.appendChild(messageElement);
      
      // Remove message after animation
      setTimeout(() => {
        messageElement.remove();
      }, 5000);
    }

    // Add random system messages periodically
    setInterval(() => {
      addSystemMessage(Math.random() < 0.2); // 20% chance of warning
    }, 3000);

    // Animate stats
    function animateStats() {
      const statBars = document.querySelectorAll('.stat-bar-fill');
      statBars.forEach(bar => {
        const currentWidth = parseInt(bar.style.width);
        const change = Math.floor(Math.random() * 21) - 10; // -10 to +10
        const newWidth = Math.max(10, Math.min(95, currentWidth + change));
        bar.style.width = newWidth + '%';
        bar.nextElementSibling.textContent = newWidth + '%';
      });
    }

    // Update stats periodically
    setInterval(animateStats, 2000);

    // Animate network values
    function animateNetwork() {
      const uploadValue = (Math.random() * 5 + 0.5).toFixed(1);
      const downloadValue = (Math.random() * 12 + 1).toFixed(1);
      
      document.querySelector('.network-activity .network-value').textContent = uploadValue + ' MB/s';
      document.querySelectorAll('.network-activity .network-value')[1].textContent = downloadValue + ' MB/s';
    }

    // Update network values periodically
    setInterval(animateNetwork, 1500);
  </script>
</body>
</html>